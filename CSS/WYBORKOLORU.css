/* ===== BAZA (DESKTOP) — zostaje jak bylo ===== */
:root{
  /* geometra palety zgodna z obecnym JS */
  --PALETA-W-BASE: 364px;   /* szerokosc siatki */
  --HEKS-W: 28px;           /* szerokosc heksa */
  --HEKS-H: 32px;           /* wysokosc heksa  */
  --WIERSZ-NAK: -14.5px;    /* nakladanie wierszy (bazowe, ladne na desktop) */
  --PALETA-RZEDY: 13;       /* liczba wierszy */
}

/* kontener na palete */
.WYBORKOLORU_OPAKOWANIE{
  width:100%;
  max-width:var(--SEKCJA-MAX, 720px);
  margin:0 auto;
  display:flex;
  justify-content:center;
  overflow:hidden;
}

/* siatka heksow (bazowa szerokosc) */
.szesciokat_wybor{
  display:flex;
  flex-wrap:wrap;
  width:var(--PALETA-W-BASE);
  margin:auto;
  transform:scale(var(--PALETA-SKALA,1));
  transform-origin:top center;
  will-change:transform;
}

/* pojedynczy heks */
.szesciokat{
  width:var(--HEKS-W);
  height:var(--HEKS-H);
  margin:0;
  display:inline-block;
  clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  cursor:pointer;
}

/* wiersze i nakladanie */
.szesciokat_wiersz{ text-align:center; }
.szesciokat_wiersz:not(:first-child){ margin-top:var(--WIERSZ-NAK); }

/* ===== MOBILE (<1000px) — dopasowanie do ekranu i centrowanie ===== */
@media (max-width: 999px){
  /* przeliczamy wysokosc bazowa palety z geometrii */
  .LATARKA_OVERLAY_WNETRZE{
    --PALETA-H-BASE: calc(var(--HEKS-H) + (var(--PALETA-RZEDY) - 1) * (var(--HEKS-H) + var(--WIERSZ-NAK)));

    /* dostepna szerokosc/wysokosc wewnatrz okna (minus padding overlaya 2x16px
       i rezerwa pionowa na pola HEX/RGB + marginesy ~220px) */
    --DOSTEPNE-W: calc(100vw - 32px);
    --DOSTEPNE-H: calc(100vh - 220px);

    /* skale od szerokosci i wysokosci */
    --SKALA-W: calc(var(--DOSTEPNE-W) / var(--PALETA-W-BASE));
    --SKALA-H: calc(var(--DOSTEPNE-H) / var(--PALETA-H-BASE));

    /* ostateczna skala: mniejsza z dwoch, ograniczona do [0.35, 1] */
    --PALETA-SKALA: clamp(0.35, min(var(--SKALA-W), var(--SKALA-H)), 1);
  }

  /* centrowanie palety poziomo; pion robi LATARKA.css */
  .WYBORKOLORU_OPAKOWANIE{ justify-content:center; }
  .szesciokat_wybor{ margin:0 auto; transform-origin:top center; }
}

/* ===== DESKTOP-EXTRA: jesli chcesz mocniejsze zazebienie na duzych ekranach =====
   (Twoje -23px), to wlacz tu; mobile pozostanie skalowany i stabilny */
@media (min-width: 1000px){
  :root{ --WIERSZ-NAK: -23px; }
}
