/* ===== BAZA (DESKTOP) ===== */
:root{
  /* geometra palety zgodna z Twoim JS */
  --PALETA-W-BASE: 364px;   /* szerokosc siatki */
  --HEKS-W: 28px;           /* szerokosc heksa */
  --HEKS-H: 32px;           /* wysokosc heksa  */
  --WIERSZ-NAK: -14.5px;    /* nakladanie wierszy (bazowe) */
  --PALETA-RZEDY: 13;       /* liczba wierszy */
}

/* kontener na palete */
.WYBORKOLORU_OPAKOWANIE{
  width:100%;
  max-width:var(--SEKCJA-MAX, 720px);
  margin:0 auto;
  display:flex;
  justify-content:center;
  overflow:hidden;
}

/* siatka heksow (bazowa szerokosc) */
.szesciokat_wybor{
  display:flex;
  flex-wrap:wrap;
  width:var(--PALETA-W-BASE);
  margin:auto;
  transform:scale(var(--PALETA-SKALA,1));
  transform-origin:top center;
  will-change:transform;
}

/* pojedynczy heks */
.szesciokat{
  width:var(--HEKS-W);
  height:var(--HEKS-H);
  margin:0;
  display:inline-block;
  clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  cursor:pointer;
}

/* wiersze i nakladanie */
.szesciokat_wiersz{ text-align:center; }
.szesciokat_wiersz:not(:first-child){ margin-top:var(--WIERSZ-NAK); }

/* ===== MOBILE (<1000px): dopasowanie do okna ===== */
@media (max-width: 999px){
  .LATARKA_OVERLAY_WNETRZE{
    /* wysokosc bazowa palety z geometrii */
    --PALETA-H-BASE: calc(var(--HEKS-H) + (var(--PALETA-RZEDY) - 1) * (var(--HEKS-H) + var(--WIERSZ-NAK)));

    /* dostepna szerokosc i wysokosc (padding overlaya 2x16px, rezerwa pionowa ~220px) */
    --DOSTEPNE-W: calc(100vw - 32px);
    --DOSTEPNE-H: calc(100vh - 220px);

    /* skale od W i H */
    --SKALA-W: calc(var(--DOSTEPNE-W) / var(--PALETA-W-BASE));
    --SKALA-H: calc(var(--DOSTEPNE-H) / var(--PALETA-H-BASE));

    /* finalna skala: mniejsza z dwoch, 0.25..1 (zwiekszylem zakres na ultra-male) */
    --PALETA-SKALA: clamp(0.25, min(var(--SKALA-W), var(--SKALA-H)), 1);
  }

  .WYBORKOLORU_OPAKOWANIE{ justify-content:center; }
  .szesciokat_wybor{ margin:0 auto; transform-origin:top center; }
}

/* ===== MALYCH EKRANOW WIECEJ (<=480px): wieksza pionowa rezerwa do pola HEX/RGB ===== */
@media (max-width: 480px){
  .LATARKA_OVERLAY_WNETRZE{
    --DOSTEPNE-H: calc(100vh - 260px); /* troche wiecej miejsca na UI pod paleta */
    --SKALA-H: calc(var(--DOSTEPNE-H) / var(--PALETA-H-BASE));
    --PALETA-SKALA: clamp(0.25, min(var(--SKALA-W), var(--SKALA-H)), 1);
  }
}

/* ===== ULTRA-WASKIE (<=350px): mniejszy padding, kotwica lewy-gorny, zero obciecia ===== */
@media (max-width: 350px){
  .LATARKA_OVERLAY_WNETRZE{
    /* zyskajmy 8px z kazdej strony */
    --DOSTEPNE-W: calc(100vw - 16px);
    /* troche mniej rezerwy pionowej, zeby skala nie schodzila zbyt nisko */
    --DOSTEPNE-H: calc(100vh - 240px);
    --SKALA-W: calc(var(--DOSTEPNE-W) / var(--PALETA-W-BASE));
    --SKALA-H: calc(var(--DOSTEPNE-H) / var(--PALETA-H-BASE));
    --PALETA-SKALA: clamp(0.25, min(var(--SKALA-W), var(--SKALA-H)), 1);
  }

  /* kotwiczenie do lewego gornego rogu + brak auto-centrowania, zeby nic nie ucinalo po bokach */
  .WYBORKOLORU_OPAKOWANIE{ justify-content:flex-start; }
  .szesciokat_wybor{
    margin:0;
    transform-origin:top left;
  }
}

/* ===== DESKTOP-EXTRA: Twoje mocniejsze zazebienie ===== */
@media (min-width: 1000px){
  :root{ --WIERSZ-NAK: -23px; }
}
