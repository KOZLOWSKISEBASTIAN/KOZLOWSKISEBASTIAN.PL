
:root{
  --ODSTEP: 10px;
  --K-SIZE: 42px;
  --K-GAP: 1px;        /* odstęp mini-hexów */
  --BORDER: 0px;
  --SUWAK-H: 56px;
  --KCIUK:   54px;
  --MID:      2px;
  --ALIGN-FIX:-2px;

  --HEX-RAMKA-JASNY:#000000;
  --HEX-RAMKA-CIEMNY:#222222;

  /* Szerokość maksymalna sekcji/przycisków – żeby pola HEX/RGB nie były szersze łącznie */
  --SEKCJA-MAX: 720px;
}

@property --spin{ syntax:'<angle>'; inherits:true; initial-value:0deg; }

*{ box-sizing:border-box }
.UKRYTY{ display:none!important }

/* ====== POKAŻ/UKRYJ ====== */
.STEROWANIE_TOP{ display:grid; grid-template-columns:1fr; margin-bottom: calc(var(--ODSTEP)*.6); }
#BTN_PANEL_TOGGLE{ justify-self:center; align-self:center; min-width:220px; }

/* ZWIJANIE: chowamy TYLKO zawartości sekcji, nie przyciski globalne (np. PRZYBORNIK) */
#PANEL_ROOT.ZWINIETY #SEKCJA_TORCH,
#PANEL_ROOT.ZWINIETY #SEKCJA_SCREEN,
#PANEL_ROOT.ZWINIETY .BLOK,
#PANEL_ROOT.ZWINIETY .TRYMY3,
#PANEL_ROOT.ZWINIETY .BLOK-PALETA,
#PANEL_ROOT.ZWINIETY .ROW_FULL,
#PANEL_ROOT.ZWINIETY .ROW_HEX { display:none !important; }

/* ====== TABS ====== */
.STEROWANIE_TABS{ display:grid; grid-template-columns:1fr 1fr; gap:var(--ODSTEP); margin-bottom:var(--ODSTEP); }
@media (min-width:999px){ .STEROWANIE_TABS{ display:none!important } #SEKCJA_TORCH{ display:none!important } }

/* ====== TRYBY ====== */
.TRYMY3{ display:grid; grid-template-columns:repeat(3,1fr); gap:var(--ODSTEP); }
.TRYMY3 .PRZYCISK{ width:100% }

/* ====== BLOKI ====== */
.BLOK{ margin-top: var(--ODSTEP) }
.BLOK-PALETA{ display:grid; grid-template-columns:1fr minmax(180px,220px); gap:var(--ODSTEP); align-items:center; }
@media (max-width:999px){ .BLOK-PALETA{ grid-template-columns:1fr } }
.ROW_FULL{ margin-top:var(--ODSTEP) }
.ROW_HEX{ display:grid; grid-template-columns:1fr; gap:var(--ODSTEP); }

/* ====== PRZYCISKI ====== (bez cienkiej ramki i bez obrysu po kliknięciu) */
.PRZYCISK{
  display:grid; place-items:center; width:100%; min-height:56px; border-radius:10px; padding:0; text-align:center;
  background:var(--TLO-PRZYCISK); color:inherit; border:0; outline:none;
  box-shadow:0 1px 0 rgba(255,255,255,.06);
}
.TRYB_AKTYWNY{ outline:0 !important; }
.PRZYCISK:focus-visible{ outline:2px solid var(--AKCENT-TEKST); outline-offset:2px; }

/* ====== MINI-HEXY (paleta) ====== */
@keyframes HEX_ROTATE{ from{transform:rotate(90deg)} to{transform:rotate(450deg)} }
.KOLORY_LISTA{ display:flex; flex-wrap:wrap; gap:var(--K-GAP); }
.KOLORY_LISTA .KOLOR{
  -webkit-appearance:none; appearance:none; background:transparent; border:none; outline:none; box-shadow:none;
  padding:0; margin:0; display:inline-block; -webkit-tap-highlight-color:transparent;
}
.KOLOR{
  --hex: polygon(25% 6.7%, 75% 6.7%, 100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%);
  --RING-SCALE: calc(1 - ((var(--BORDER) * 2) / var(--K-SIZE)));
  position:relative; width:var(--K-SIZE); height:var(--K-SIZE);
  clip-path:var(--hex); -webkit-clip-path:var(--hex);
  transform:rotate(90deg); cursor:pointer;
}
.KOLOR::before{ content:""; position:absolute; inset:0; clip-path:inherit; background:transparent; z-index:0; }
:root[WYBOR_MOTYW="JASNY"] .KOLOR.AKTYWNY::before{ background:var(--HEX-RAMKA-JASNY) }
:root[WYBOR_MOTYW="CIEMNY"] .KOLOR.AKTYWNY::before{ background:var(--HEX-RAMKA-CIEMNY) }
.KOLOR::after{
  content:""; position:absolute; left:50%; top:50%; width:100%; height:100%;
  transform:translate(-50%,-50%) scale(var(--RING-SCALE));
  clip-path:inherit; background:var(--c,#fff); z-index:1;
}
.KOLOR.AKTYWNY{ --BORDER:4px }
.KOLOR.KOLOR_MIX::after{ background:conic-gradient(red,yellow,lime,cyan,blue,magenta,red)!important; }
.KOLOR.OBROT{ animation:HEX_ROTATE 380ms ease }

/* ====== SUWAK (bez ramki toru) ====== */
.SUWAK_HEX{ --spin:0deg; }
:root[WYBOR_MOTYW="JASNY"] .SUWAK_HEX{ color:#000000; }
:root[WYBOR_MOTYW="CIEMNY"] .SUWAK_HEX{ color:#FF00FF; }

/* tor suwaka */
.SUWAK{
  width:100%; height:var(--SUWAK-H);
  -webkit-appearance:none; appearance:none; outline:none; border-radius:8px;
  background:
    linear-gradient(to bottom, transparent calc(50% - var(--MID)), rgba(255,255,255,.18) calc(50% - var(--MID)), rgba(255,255,255,.18) calc(50% + var(--MID)), transparent calc(50% + var(--MID))),
    var(--TLO-PRZYCISK);
  box-shadow:none;
}
/* JASNY – czarna linia (bez ramki) */
:root[WYBOR_MOTYW="JASNY"] .SUWAK{
  background:
    linear-gradient(to bottom, transparent calc(50% - var(--MID)), rgba(0,0,0,1) calc(50% - var(--MID)), rgba(0,0,0,1) calc(50% + var(--MID)), transparent calc(50% + var(--MID))),
    var(--TLO-PRZYCISK);
  box-shadow:none;
}

/* kciuk */
.SUWAK_HEX::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:var(--KCIUK); height:var(--KCIUK);
  clip-path:polygon(25% 6.7%,75% 6.7%,100% 50%,75% 93.3%,25% 93.3%,0% 50%);
  transform:rotate(calc(90deg + var(--spin)));
  transition:transform .08s ease;
  border:0; margin-top:calc(((var(--SUWAK-H) - var(--KCIUK)) / 2) * -1 - var(--ALIGN-FIX));
  background:currentColor; cursor:pointer;
}
:root[WYBOR_MOTYW="JASNY"] .SUWAK_HEX::-webkit-slider-thumb{ box-shadow: inset 0 0 0 3px #000; }

/* ====== Tło świecenia ekranu ====== */
.SCREEN_OVERLAY{ position:fixed; inset:0; z-index:0; pointer-events:none; background:#000; opacity:.96; transition:background 40ms linear; }
.RAMKA,.KONTENER,.PANEL,.SIATKA,.PRZYBORNIK_SEKCJA{ position:relative; z-index:1 }

/* ====== OVERLAY „DODAJ KOLOR” ====== */
.LATARKA_OVERLAY{
  position:fixed; inset:0; z-index:1000;
  display:flex;
  background:rgba(0,0,0,.7);
}
.LATARKA_OVERLAY.UKRYTY{ display:none!important; }

.LATARKA_OVERLAY_TRESC{
  width:100vw; height:100vh;
  display:grid; place-items:stretch;
  background:transparent;
}
.LATARKA_OVERLAY_WNETRZE{
  width:100vw; height:100vh;
  display:grid; gap:16px;
  grid-template-rows: auto auto; /* picker, pola */
  align-content:stretch; justify-items:center;
  background:var(--TLO-PRZYCISK);
  border-radius:0; padding:16px; overflow:auto;
}

/* JASNY motyw: panel + pola */
:root[WYBOR_MOTYW="JASNY"] .LATARKA_OVERLAY_WNETRZE{ background:#F5F5F5; }
:root[WYBOR_MOTYW="JASNY"] .LATARKA_OVERLAY_WNETRZE .LICZYDLO_POLE,
:root[WYBOR_MOTYW="JASNY"] .LATARKA_OVERLAY_WNETRZE .PRZYCISK{
  background:#EEEEEE; color:#000; border:0; box-shadow:0 1px 0 rgba(255,255,255,.06);
}

/* CIEMNY motyw: panel + pola */
:root[WYBOR_MOTYW="CIEMNY"] .LATARKA_OVERLAY_WNETRZE{ background:#333333; }
:root[WYBOR_MOTYW="CIEMNY"] .LATARKA_OVERLAY_WNETRZE .LICZYDLO_POLE,
:root[WYBOR_MOTYW="CIEMNY"] .LATARKA_OVERLAY_WNETRZE .PRZYCISK{
  background:#222222; color:#FFF; border:0; box-shadow:0 1px 0 rgba(0,0,0,.3);
}

/* Pola – MNIEJSZE, obok siebie, i nie szersze łącznie niż sekcja/przycisk */
.LATARKA_KOLORY_BOXES{
  width:100%;
  max-width:var(--SEKCJA-MAX);
  margin:0 auto;
  display:grid; gap:10px;
  grid-template-columns:1fr 1fr;  /* HEX | RGB */
}
.LATARKA_OVERLAY_WNETRZE .LICZYDLO_POLE{
  min-height:56px !important;          /* jak PRZYCISK */
  font-size:clamp(20px, 4.8vw, 28px) !important; /* mniejsze niż wcześniej */
  padding:0 12px;
  display:flex; align-items:center;
}

/* Overlay otwarty — ukryj przełącznik motywu i inne zbędne */
body.OVERLAY_OTWARTY #HEXAGON,
body.OVERLAY_OTWARTY #WYLACZNIK,
body.OVERLAY_OTWARTY #TROJKATY{ display:none!important; }
